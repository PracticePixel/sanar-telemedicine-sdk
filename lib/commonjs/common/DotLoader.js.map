{"version":3,"names":["DotLoader","Component","constructor","props","_animation_state","dot_opacities","initializeDots","target_opacity","should_animate","opacities","i","numberOfDots","dot","Animated","Value","minOpacity","push","componentDidMount","animate_dots","bind","componentWillUnmount","which_dot","length","min","next_dot","timing","toValue","duration","animationDelay","useNativeDriver","start","render","dots","map","o","style","opacity","styles","container","PropTypes","number","Text","propTypes","color","fontSize","StyleSheet","create","flexDirection","height"],"sources":["DotLoader.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Text, Animated, View, StyleSheet } from 'react-native';\nimport PropTypes from 'prop-types';\n\nexport default class DotLoader extends Component {\n    static propTypes = {\n        numberOfDots: PropTypes.number,\n        animationDelay: PropTypes.number,\n        minOpacity: PropTypes.number,\n        style: Text.propTypes.style,\n    };\n\n    static defaultProps = {\n        numberOfDots: 3,\n        animationDelay: 300,\n        minOpacity: 0.2,\n        style: {\n            color: '#aaa',\n            fontSize: 32,\n        }\n    };\n\n    constructor(props) {\n        super(props);\n        this._animation_state = {\n            dot_opacities: this.initializeDots(),\n            target_opacity: 1,\n            should_animate: true,\n        };\n    }\n\n    initializeDots() {\n        let opacities = [];\n        for (let i = 0; i < this.props.numberOfDots; i++) {\n            let dot = new Animated.Value(this.props.minOpacity);\n            opacities.push(dot);\n        }\n        return opacities;\n    }\n\n    componentDidMount() {\n        this.animate_dots.bind(this)(0);\n    }\n\n    componentWillUnmount() {\n        this._animation_state.should_animate = false;\n    }\n\n    animate_dots(which_dot) {\n        if (!this._animation_state.should_animate) return;\n        // swap fade direction when we hit end of list\n        if (which_dot >= this._animation_state.dot_opacities.length) {\n            which_dot = 0;\n            let min = this.props.minOpacity;\n            this._animation_state.target_opacity =\n                this._animation_state.target_opacity == min ? 1 : min;\n        }\n\n        let next_dot = which_dot + 1;\n\n        Animated.timing(this._animation_state.dot_opacities[which_dot], {\n            toValue: this._animation_state.target_opacity,\n            duration: this.props.animationDelay,\n            useNativeDriver: false,\n        }).start(this.animate_dots.bind(this, next_dot));\n    }\n\n    render() {\n        let dots = this._animation_state.dot_opacities.map((o, i) =>\n            <Animated.Text key={i} style={[this.props.style, { opacity: o }]}>\n                .\n            </Animated.Text>\n        );\n        return <View style={styles.container}>{dots}</View>\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flexDirection: 'row',\n        height: 50\n    }\n});\n\n"],"mappings":"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"}