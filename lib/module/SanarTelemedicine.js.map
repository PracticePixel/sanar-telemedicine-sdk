{"version":3,"names":["io","getInfo","DeviceInfo","SanarTelemedicine","Connect","cid","info","lang","did","getUniqueId","status","data","message","error_message","eventListner","messagingUrl","query","uid","session","error","Disconnect","disconnect","console","log"],"sources":["SanarTelemedicine.ts"],"sourcesContent":["// @ts-ignore\nimport io from 'socket.io-client';\nimport { getInfo } from './utils';\nimport DeviceInfo from 'react-native-device-info';\n\nexport type ConnectResponse = {\n    message: string,\n    status: boolean\n}\nexport interface SanarTelemedicineInterface {\n    Connect( cid: string, info: any, lang?: string ): Promise<ConnectResponse>,\n    Disconnect(): void,\n}\n\nclass SanarTelemedicine implements SanarTelemedicineInterface {\n\n    public eventListner: any;\n    public session: any;\n    public info: any;\n\n    async Connect(cid: string, info: any, lang?: string) {\n        try {\n            let did = await DeviceInfo.getUniqueId();\n            const { status, data, message, error_message } = await getInfo(cid, info, lang);\n            if (status == 1000) {\n                this.eventListner = io(data.messagingUrl, { query: `uid=${data.uid}&did=${did}` });\n                this.session = data;\n                this.info = info;\n                return { message: message, status: true };\n            } else {\n                return { message: error_message, status: false };\n            };\n        } catch (error) {\n            throw error;\n        }\n    };\n\n    Disconnect() {\n        if (this.eventListner) {\n            this.eventListner.disconnect();\n            console.log(\"Disconnected with Sanar\");\n        }\n    };\n};\n\nexport default new SanarTelemedicine();"],"mappings":"AAAA;AACA,OAAOA,EAAP,MAAe,kBAAf;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AAWA,MAAMC,iBAAN,CAA8D;EAM7C,MAAPC,OAAO,CAACC,GAAD,EAAcC,IAAd,EAAyBC,IAAzB,EAAwC;IACjD,IAAI;MACA,IAAIC,GAAG,GAAG,MAAMN,UAAU,CAACO,WAAX,EAAhB;MACA,MAAM;QAAEC,MAAF;QAAUC,IAAV;QAAgBC,OAAhB;QAAyBC;MAAzB,IAA2C,MAAMZ,OAAO,CAACI,GAAD,EAAMC,IAAN,EAAYC,IAAZ,CAA9D;;MACA,IAAIG,MAAM,IAAI,IAAd,EAAoB;QAChB,KAAKI,YAAL,GAAoBd,EAAE,CAACW,IAAI,CAACI,YAAN,EAAoB;UAAEC,KAAK,EAAG,OAAML,IAAI,CAACM,GAAI,QAAOT,GAAI;QAApC,CAApB,CAAtB;QACA,KAAKU,OAAL,GAAeP,IAAf;QACA,KAAKL,IAAL,GAAYA,IAAZ;QACA,OAAO;UAAEM,OAAO,EAAEA,OAAX;UAAoBF,MAAM,EAAE;QAA5B,CAAP;MACH,CALD,MAKO;QACH,OAAO;UAAEE,OAAO,EAAEC,aAAX;UAA0BH,MAAM,EAAE;QAAlC,CAAP;MACH;;MAAA;IACJ,CAXD,CAWE,OAAOS,KAAP,EAAc;MACZ,MAAMA,KAAN;IACH;EACJ;;EAEDC,UAAU,GAAG;IACT,IAAI,KAAKN,YAAT,EAAuB;MACnB,KAAKA,YAAL,CAAkBO,UAAlB;MACAC,OAAO,CAACC,GAAR,CAAY,yBAAZ;IACH;EACJ;;AA5ByD;;AA6B7D;AAED,eAAe,IAAIpB,iBAAJ,EAAf"}