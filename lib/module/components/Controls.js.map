{"version":3,"names":["React","useState","useContext","useEffect","View","Text","Dimensions","StyleSheet","TouchableOpacity","Platform","Animated","Image","AppState","SvgIcon","svgs","VideoFrames","moment","Icon","props","DefaultUserImg","require","G","Path","Svg","colors","vw","SanarContext","width","get","height","modelHeight","Value","backgroundTime","callDuration","hour","minute","second","format","Controls","toggleFrame","notification","newMessage","endCall","brandLogo","intialFrame","isPaused","switchFrame","onClickControl","onClickChat","docProfile","docName","isModelOpen","setIsModelOpen","isAudio","setIsAudio","isCamera","setIsCamera","isWhite","setIsWhite","isBlur","setIsBlur","isMute","setIsMute","isVideo","setIsVideo","updateModel","timing","toValue","duration","useNativeDriver","start","onClickChatIcon","videoFrames","doctorImg","uri","userImage","styles","videoFrameSwitch","imageStyle","controls","type","value","sideMenuControls","animatedStyle","opacity","interpolate","inputRange","outputRange","modelContainer","backgroundColor","borderRadius","alignItems","frameBorder","justifyContent","bottomMenuControls","btnContainer","btnFirstRow","btnRowRight","microPhoneStyle","backgroundChange","normalBtn","btnRowLeft","chatBtn","position","top","right","color","container","logoContainer","bottom","pauseTextStyle","pausedText","timerBox","fontWeight","fontSize","backGroundSvg","disconnectBtn","primaryColor","BackGroundSvg","Timer","setDuration","subscription","addEventListener","nextAppState","activeTime","newData","diff","getTime","remove","interval","setInterval","clearInterval","val","Call_Timer","durationTxt","create","flex","zIndex","flexDirection","marginBottom","left","padding","marginRight","OS","marginLeft","paddingVertical","paddingHorizontal","alignSelf","marginTop","overflow","borderWidth","borderColor"],"sources":["Controls.tsx"],"sourcesContent":["import React, { useState, useContext, useEffect, useCallback } from 'react'\nimport { View, Text, Dimensions, StyleSheet, TouchableOpacity, Platform, Animated, Image, AppState } from 'react-native'\nimport SvgIcon from 'react-native-svg-icon'\nimport svgs from '../common/SanarSVG';\nimport VideoFrames from './VideoFrames'\nimport moment from 'moment'\nconst Icon = (props: any) => <SvgIcon {...props} svgs={svgs} />\nconst DefaultUserImg = require('../Images/profile.png')\nimport { G, Path, Svg } from 'react-native-svg';\nimport colors from '../theme';\n/* @ts-ignore */\nimport { vw, vh } from '../viewport-units'\nimport SanarContext from '../common/SanarContext'\n\nconst width = Dimensions.get('window').width;\nconst height = Dimensions.get('window').height;\nlet modelHeight = new Animated.Value(0);\nvar backgroundTime = null;\nvar callDuration = moment().hour(0).minute(0).second(0).format('H : mm : ss');\ninterface IControls {\n    newMessage: boolean,\n    toggleFrame?: () => void,\n}\n\nconst Controls = (props: IControls) => {\n    const { toggleFrame } = props;\n    const { notification, newMessage, endCall, brandLogo, intialFrame, isPaused, switchFrame, onClickControl, onClickChat } = useContext(SanarContext);\n    const { docProfile, docName } = notification;\n    const [isModelOpen, setIsModelOpen] = useState(false);\n    const [isAudio, setIsAudio] = useState(false);\n    const [isCamera, setIsCamera] = useState(false);\n    const [isWhite, setIsWhite] = useState(false);\n    const [isBlur, setIsBlur] = useState(false);\n    const [isMute, setIsMute] = useState(false);\n    const [isVideo, setIsVideo] = useState(false);\n\n    const updateModel = () => {\n        setIsModelOpen(!isModelOpen)\n        if (isModelOpen) {\n            Animated.timing(\n                modelHeight,\n                {\n                    toValue: 0,\n                    duration: 500,\n                    useNativeDriver: false,\n                },\n            ).start();\n        } else {\n            Animated.timing(\n                modelHeight,\n                {\n                    toValue: 300,\n                    duration: 500,\n                    useNativeDriver: false,\n                },\n            ).start();\n        }\n    }\n\n    const onClickChatIcon = () => {\n        toggleFrame()\n        onClickChat()\n    }\n\n    const videoFrames = () => {\n        let doctorImg = docProfile ? { uri: docProfile } : DefaultUserImg\n        var userImage = docProfile ? { uri: docProfile } : DefaultUserImg\n        return (\n            <TouchableOpacity\n                onPress={switchFrame}\n                style={styles.videoFrameSwitch}>\n                {!intialFrame ? isVideo ? <Image\n                    source={doctorImg}\n                    style={styles.imageStyle}\n                /> :\n                    <VideoFrames isLocal={!intialFrame} />\n                    :\n                    isPaused ? <Image\n                        source={userImage}\n                        style={styles.imageStyle}\n                    /> :\n                        <VideoFrames isLocal={!intialFrame} />}\n            </TouchableOpacity>\n        )\n    }\n\n    const controls = (type, value) => {\n        switch (type) {\n            case \"MUTE\":\n                setIsMute(!isMute)\n                onClickControl(type, isMute)\n                break;\n            case \"VIDEO\":\n                setIsVideo(!isVideo)\n                onClickControl(type, isVideo)\n                break;\n            case \"AUDIO\":\n                setIsAudio(!isAudio)\n                onClickControl(type, isAudio)\n                break;\n            case \"CAMERA\":\n                setIsCamera(!isCamera)\n                onClickControl(type, isCamera)\n                break;\n            case \"WHITE_BG\":\n                setIsWhite(!isWhite)\n                onClickControl(type, isWhite)\n                break;\n            case \"BLUR_BG\":\n                setIsBlur(!isBlur)\n                onClickControl(type, isBlur)\n                break;\n            default:\n                break;\n        }\n    }\n\n    const sideMenuControls = () => {\n        const animatedStyle = {\n            height: modelHeight,\n            opacity: modelHeight.interpolate({\n                inputRange: [0, 100, 150, 300],\n                outputRange: [0, 0, 0, 1]\n            })\n        }\n        return (\n            <Animated.View style={[styles.modelContainer, animatedStyle, { height: modelHeight, backgroundColor: 'rgba(0,0,0, 0.1)', borderRadius: 20, alignItems: 'center' }]}>\n                {isModelOpen && <>\n                    <TouchableOpacity onPress={() => controls('WHITE_BG', isWhite)} style={styles.frameBorder}>\n                        <View style={{ justifyContent: 'center', alignItems: 'center' }}>\n                            <Icon name=\"backgroundWhite\" height=\"25\" width=\"25\" />\n                        </View>\n                    </TouchableOpacity>\n                    <TouchableOpacity onPress={() => controls('BLUR_BG', isBlur)} style={styles.frameBorder}>\n                        <View style={{ justifyContent: 'center', alignItems: 'center', }}>\n                            <Icon name=\"backgroundBlur\" height=\"25\" width=\"25\" />\n                        </View>\n                    </TouchableOpacity>\n                    <TouchableOpacity onPress={() => controls('CAMERA', isCamera)} style={styles.frameBorder}>\n                        <View style={{ justifyContent: 'center', alignItems: 'center' }}>\n                            {isCamera ? <Icon name=\"cameraWithFlipIcon\" /> : <Icon name=\"cameraWithoutFlipIcon\" />}\n                        </View>\n                    </TouchableOpacity>\n                    <TouchableOpacity onPress={() => controls('AUDIO', isAudio)} style={styles.frameBorder}>\n                        <View style={{ justifyContent: 'center', alignItems: 'center', }}>\n                            {isAudio ? <Icon name=\"speakerDisableIcon\" /> : <Icon name=\"speakerEnableIcon\" />}\n                        </View>\n                    </TouchableOpacity>\n                </>}\n            </Animated.View>\n        )\n    }\n\n    const bottomMenuControls = () => {\n        return (\n            <View style={styles.btnContainer}>\n                <View style={styles.btnFirstRow}>\n                    <View style={styles.btnRowRight}>\n                        <TouchableOpacity onPress={() => controls('MUTE', isMute)} style={styles.microPhoneStyle}>\n                            <View style={styles.backgroundChange}></View>\n                            {!isMute ? <Icon name=\"newMicroPhone\" height={20} width={20} /> : <Icon name=\"mutedMicroPhone\" height={20} width={20} />}\n                        </TouchableOpacity>\n                        <TouchableOpacity onPress={() => controls('VIDEO', isVideo)} style={styles.normalBtn}>\n                            <View style={styles.backgroundChange}></View>\n                            {isVideo ? <Icon name=\"videoDisableNew\" height={20} width={20} /> : <Icon name={\"cameraIconNew\"} height={20} width={20} />}\n                        </TouchableOpacity>\n                    </View>\n                    <View style={styles.btnRowLeft}>\n                        <TouchableOpacity onPress={() => onClickChatIcon()} style={styles.chatBtn}>\n                            <View style={styles.backgroundChange}></View>\n                            <Icon name=\"newVideoChat\" height=\"18\" width=\"23\" fill=\"#FFF\" />\n                            {newMessage &&\n                                <View style={{ backgroundColor: 'red', width: 40, height: 30, position: 'absolute', borderRadius: 20, justifyContent: 'center', alignItems: 'center', top: -18, right: -18 }}>\n                                    <Text style={{ color: 'white' }}>new</Text></View>}\n                        </TouchableOpacity>\n                        <TouchableOpacity style={styles.normalBtn} onPress={updateModel}>\n                            <View style={styles.backgroundChange}></View>\n                            {isModelOpen ? <Icon name={\"cancellNew\"} height={14} width={14} fill=\"#FFF\" /> : <Icon name={\"moreInVideo\"} height={20} width={20} />}\n                        </TouchableOpacity>\n                    </View>\n                </View>\n            </View>\n        )\n    }\n\n    return (\n        <View style={styles.container}>\n            {brandLogo && <View style={styles.logoContainer}>\n                <View style={{ bottom: 0, position: 'absolute' }}>\n                    <Icon name={\"sanrLogoSvgVideoCall\"} height={130} width={130} />\n                </View>\n            </View>}\n            {videoFrames()}\n            {isPaused && <View style={styles.pauseTextStyle}>\n                <Text style={styles.pausedText} >{'Video Paused'}</Text>\n            </View>}\n            <View style={styles.timerBox} >\n                <Text style={{ color: 'black', fontWeight: '700', fontSize: 16 }}>{docName}</Text>\n                <Timer setDuration={(duration) => callDuration = duration} />\n            </View>\n            <View style={styles.backGroundSvg}>\n                <TouchableOpacity onPress={() => endCall(callDuration)} style={[styles.disconnectBtn]}>\n                    <Icon name={\"callDisconnectSv\"} height={25} width={25} />\n                </TouchableOpacity>\n                <BackGroundSvg color={colors.primaryColor} />\n            </View>\n            {sideMenuControls()}\n            {bottomMenuControls()}\n        </View>\n    )\n}\n\nconst BackGroundSvg = (color) => {\n    return (\n        <Svg viewBox=\"0 0 375 80\" height={150} width={width} >\n            <G id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <G id=\"Patient-view-Copy-2\" transform=\"translate(0.000000, -682.000000)\" fill={color.color}>\n                    <G id=\"Group\" transform=\"translate(0.000000, 674.292312)\">\n                        <Path d=\"M0,137.707688 L375,137.707688 L375,0.632737058 L375,7.70768807 C375,18.7533831 366.045695,27.7076881 355,27.7076881 L251.97575,27.7076881 C239.471794,27.7087876 228.279787,35.4652685 223.888413,47.172734 C217.75485,63.5293701 205.536218,71.7076881 187.232515,71.7076881 C168.705898,71.7076881 156.092977,63.3289549 149.393753,46.5714886 C144.839536,35.1792905 133.807492,27.7082653 121.538707,27.7076881 L20,27.7076881 C8.954305,27.7076881 -9.30543353e-15,18.7533831 0,7.70768807 L0,0 L0,0 L0,137.707688 Z\" id=\"bg\"></Path>\n                    </G>\n                </G>\n            </G>\n        </Svg>\n    )\n}\n\nconst Timer = (props) => {\n    const [duration, setDuration] = useState(moment().hour(0).minute(0).second(0).format('H : mm : ss'));\n    useEffect(() => {\n        const subscription = AppState.addEventListener(\"change\", nextAppState => {\n            if (nextAppState == 'background') {\n                backgroundTime = moment()\n            } else {\n                var activeTime = moment()\n                var newData = activeTime.diff(backgroundTime, 'seconds')\n                if (backgroundTime !== null) {\n                    getTime(newData)\n                    backgroundTime = null\n                }\n            }\n        });\n        return () => {\n            subscription.remove();\n        };\n    }, []);\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            getTime(1)\n        }, 1000);\n        return () => { clearInterval(interval) };\n    }, []);\n\n    const getTime = (val) => {\n        Call_Timer = Call_Timer + val;\n        var callDuration = moment().hour(0).minute(0).second(Call_Timer).format('H : mm : ss')\n        setDuration(callDuration)\n        props.setDuration(callDuration)\n    }\n    return (<Text style={styles.durationTxt}>{duration}</Text>)\n}\n\nexport default Controls;\n\nexport const styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: 'center',\n        width: width,\n        height: height,\n        backgroundColor: 'transparent'\n\n    },\n    btnContainer: {\n        position: 'absolute',\n        bottom: 1 * vw,\n        zIndex: 999,\n        backgroundColor: 'transparent'\n    },\n    btnFirstRow: {\n        flexDirection: 'row',\n        zIndex: 999,\n        marginBottom: 30,\n        width: '100%',\n        justifyContent: 'space-evenly',\n        backgroundColor: 'transparent'\n    },\n    btnRowRight: {\n        flexDirection: 'row',\n        justifyContent: 'center',\n        right: 30,\n        alignItems: 'center',\n    },\n    btnRowLeft: {\n        flexDirection: 'row',\n        justifyContent: 'center',\n        left: 30,\n    },\n    microPhoneStyle: {\n        width: 12 * vw,\n        height: 12 * vw,\n        alignItems: 'center',\n        borderRadius: 50,\n        backgroundColor: colors.primaryColor,\n        justifyContent: 'center',\n        padding: 5,\n        marginRight: 10,\n    },\n    normalBtn: {\n        width: 12 * vw,\n        height: 12 * vw,\n        alignItems: 'center',\n        borderRadius: 50,\n        backgroundColor: colors.primaryColor,\n        justifyContent: 'center',\n        padding: 5\n    },\n    chatBtn: {\n        width: 12 * vw,\n        height: 12 * vw,\n        alignItems: 'center',\n        borderRadius: 50,\n        backgroundColor: colors.primaryColor,\n        justifyContent: 'center',\n        padding: 5,\n        marginRight: 10\n    },\n    backGroundSvg: {\n        position: 'absolute',\n        bottom: 0,\n        backgroundColor: 'transparent'\n    },\n    logoContainer: {\n        width: width,\n        height: 100,\n        position: 'absolute',\n        top: Platform.OS === 'ios' ? 30 : -20,\n        left: 20,\n    },\n    timerBox: {\n        flex: 1,\n        width: 120,\n        zIndex: 999,\n        bottom: 110,\n        marginLeft: 5,\n        position: 'absolute',\n        backgroundColor: 'rgba(255, 255, 255, 0.5)',\n        paddingVertical: 5,\n        paddingHorizontal: 10,\n        borderRadius: 10\n    },\n    disconnectBtn: {\n        backgroundColor: 'red',\n        width: 60,\n        height: 60,\n        zIndex: 999,\n        borderRadius: 100,\n        alignItems: 'center',\n        justifyContent: 'center',\n        alignSelf: 'center',\n        bottom: 65,\n        position: 'absolute'\n    },\n    imageStyle: {\n        width: 120,\n        height: 160,\n        alignSelf: 'center',\n        alignItems: 'center',\n    },\n    frameBorder: {\n        width: 48,\n        height: 48,\n        borderRadius: 30,\n        justifyContent: 'center',\n        marginTop: 0,\n        zIndex: 999999999,\n        backgroundColor: 'rgba(0, 0, 0, 0.2)',\n    },\n    modelContainer: {\n        width: 60,\n        position: 'absolute',\n        bottom: 100,\n        right: 20,\n        marginBottom: 10,\n        justifyContent: 'space-between',\n        paddingVertical: 20,\n        paddingHorizontal: 20,\n        overflow: 'hidden',\n        zIndex: 999999999\n    },\n    pausedText: {\n        color: 'white',\n        fontSize: 20,\n        fontWeight: 'bold'\n    },\n    pauseTextStyle: {\n        top: (height / 2) - 25,\n        left: (width / 2) - 75,\n        width: 150,\n        height: 30,\n        position: 'absolute',\n        alignItems: 'center',\n        justifyContent: 'center'\n    },\n    videoFrameSwitch: {\n        width: 120,\n        height: 160,\n        borderWidth: 1,\n        borderColor: 'lightgray',\n        borderRadius: Platform.OS == 'android' ? 0 : 10,\n        overflow: 'hidden',\n        position: 'absolute',\n        zIndex: 999099999,\n        right: 20,\n        top: 50\n    },\n    backgroundChange: {\n        width: 12 * vw,\n        height: 12 * vw,\n        alignItems: 'center',\n        borderRadius: 50,\n        backgroundColor: '#fff',\n        opacity: 0.1,\n        justifyContent: 'center',\n        padding: 5,\n        position: 'absolute',\n    },\n    durationTxt: {\n        color: 'black',\n        fontWeight: '500',\n        fontSize: 13\n    }\n})\n\n"],"mappings":"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"}