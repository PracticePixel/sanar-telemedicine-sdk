{"version":3,"names":["React","Component","Text","Animated","View","StyleSheet","PropTypes","DotLoader","constructor","props","_animation_state","dot_opacities","initializeDots","target_opacity","should_animate","opacities","i","numberOfDots","dot","Value","minOpacity","push","componentDidMount","animate_dots","bind","componentWillUnmount","which_dot","length","min","next_dot","timing","toValue","duration","animationDelay","useNativeDriver","start","render","dots","map","o","style","opacity","styles","container","number","propTypes","color","fontSize","create","flexDirection","height"],"sources":["DotLoader.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Text, Animated, View, StyleSheet } from 'react-native';\nimport PropTypes from 'prop-types';\n\nexport default class DotLoader extends Component {\n    static propTypes = {\n        numberOfDots: PropTypes.number,\n        animationDelay: PropTypes.number,\n        minOpacity: PropTypes.number,\n        style: Text.propTypes.style,\n    };\n\n    static defaultProps = {\n        numberOfDots: 3,\n        animationDelay: 300,\n        minOpacity: 0.2,\n        style: {\n            color: '#aaa',\n            fontSize: 32,\n        }\n    };\n\n    constructor(props) {\n        super(props);\n        this._animation_state = {\n            dot_opacities: this.initializeDots(),\n            target_opacity: 1,\n            should_animate: true,\n        };\n    }\n\n    initializeDots() {\n        let opacities = [];\n        for (let i = 0; i < this.props.numberOfDots; i++) {\n            let dot = new Animated.Value(this.props.minOpacity);\n            opacities.push(dot);\n        }\n        return opacities;\n    }\n\n    componentDidMount() {\n        this.animate_dots.bind(this)(0);\n    }\n\n    componentWillUnmount() {\n        this._animation_state.should_animate = false;\n    }\n\n    animate_dots(which_dot) {\n        if (!this._animation_state.should_animate) return;\n        // swap fade direction when we hit end of list\n        if (which_dot >= this._animation_state.dot_opacities.length) {\n            which_dot = 0;\n            let min = this.props.minOpacity;\n            this._animation_state.target_opacity =\n                this._animation_state.target_opacity == min ? 1 : min;\n        }\n\n        let next_dot = which_dot + 1;\n\n        Animated.timing(this._animation_state.dot_opacities[which_dot], {\n            toValue: this._animation_state.target_opacity,\n            duration: this.props.animationDelay,\n            useNativeDriver: false,\n        }).start(this.animate_dots.bind(this, next_dot));\n    }\n\n    render() {\n        let dots = this._animation_state.dot_opacities.map((o, i) =>\n            <Animated.Text key={i} style={[this.props.style, { opacity: o }]}>\n                .\n            </Animated.Text>\n        );\n        return <View style={styles.container}>{dots}</View>\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flexDirection: 'row',\n        height: 60,\n    }\n});\n\n"],"mappings":"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"}